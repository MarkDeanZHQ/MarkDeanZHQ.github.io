---
categories: [CS, Network]
tags: [CS, network]
math: true
mermaid: true
render_with_liquid: true
img_path: 
description: 计网笔记
pin: 
---


# 计算机网络

## 计网的生活相关知识

#### 硬盘大小
产品标：250G  
  
实际大小通常：$\frac{250\times10^9}{2^{30}}\approx232.8(GB)$  
- 其中 9： G - K - B  1000 x 1000 x 1000

## 概述


### 三种交换方式
1. 电路交换（Circuit Switching）
    * 定义：电话交换机的电话线接通方式
    * 交换步骤：
        1. 建立连接（分配 通信资源）
        2. 通话（一直占用 通信资源）
        3. 释放连接（归还 通信资源）
2. 电报交换
3. 分组交换
    1. 发送方
        * 构造分组
        * 发送分组
    2. 路由器
        1. 缓存分组
        2. 转发分组
    3. 接收方
        1. 接受分组
        2. 还原报文
        
![](https://raw.githubusercontent.com/MarkDeanZHQ/ImageHost/main/markdeanzhq.github.io/_posts/it/net/2024-10-13-计网.md/367914447737969.png)



### 计算机网络的性能指标
1. 速率
    * 比特率/数据率
    * 单位： bit/s（b/s， bps）
    * k/m/g 在数据率中，单位均为 $10^3$的进制
    * 而其在数据量单位中，进制为$2^10$
    * 例题：有一数据块大小 100MB， 速率 100Mbps
        * 解答：
        * $\frac{100MB}{100Mb/s}=\frac{MB}{Mb/s}=\frac{2^{20}B}{10^6b/s}=\frac{2^{20}\times8b}{10^6b/s}\approx8.3886$
2. 带宽
    * 模拟信号中的意义：信号的频率范围
    * 计算机网络中的意义：最高数据率，同上
3. 吞吐量
    * 单位时间内通过网络（信道/接口）的数据量
4. 时延
    * 发送时延 = $\frac{分组长度(b)}{发送速率(b)}$
    * 传播时延 = $\frac{信道长度(m)}{电磁波传播速率(m/s)}$
        * 电磁波传播速率
            * 自由空间：$3\times10^8m/s$
            * 铜线：$2.3\times10^8m/s$
            * 光纤：$2.0\times10^8m/s$
    * 处理时延（排队时延） —- 通常忽略不计
5. 时延带宽积 = $传播时延\times带宽$
    * 视带宽为 底，传播时延为 长
    * 则，时延带宽积为 该柱体的体积，单位为 bit
6. 往返时间RTT（Round-Trip Time）
    * 即双向交互一次 所需的时间
7. 利用率
    1. 信道利用率：表示信道利用时间的百分比（有数据通过）
    2. 网络利用率：全网络的信道利用率的加权平均
    3. 空闲时延D，利用率U，当前时延$D_0$之间的关系
        * $D=\frac{D_0}{1-U}$
        * U=50%时，时延加倍
        * 往后急剧增大
8. 丢包率 —- 丢失的分组数量 与 总分组数量的比率
    * 分组丢失的情况
        1. 传输出现 <mark>误码</mark>
        2. 网络拥塞，即到达一台队列已满的 交换机，从而被丢弃
    * 反映：可以体现网络拥塞率

    
### 计算机网络体系结构
常见的网络体系结构：
OSI  — 法律上的国际标准
1. 物理层
2. 数据链路层
3. 网络层
4. 运输层
5. 会话层
6. 表示层
7. 应用层


TCP/IP体系结构   — 事实上的国际标准
1. 网络接口层   — （物理层+数据链路层）
2. 网际层    — 使用 IP 协议（网际协议）
3. 运输层    — TCP/UDP
4. 应用层    - HTTP/SMTP/DNS/RTP/…

学习计算机网络的完整体系：
原理体系结构  —- 适用教学
5. 应用层
4. 运输层
3. 网络层 
2. 数据链路层
1. 物理层


#### 网络体系结构分层的必要性

##### 物理层
比特传输信号的问题

1. 严格上：传输媒体不属于物理层，不包含在体系结构中
2. 计算机网络中传输的信号，不属于方波信号（仅用于方便理解）


* 传输媒介（介质）
* 物理接口
* 如何用信号表示比特0/1

##### 数据链路层
分组在单个网络传输的问题（链路）

* 标识网络中的主机（主机编址/如MAC地址）
* 从信号表示的比特流中，区分地址和数据
* 协调主机争用总线
总线型网络
以太网交换机 — 交换式以太网

##### 网络层
分组在多个网络传输的问题（路由）

* 网络和主机共同编址，如IP地址
* 路由器转发分组/路由选择

##### 传输层
进程之间基于网络的通信问题

* 标识 基于网络通信的应用进程
* 如何解决传输错误/丢包

##### 应用层
* 通过应用进程间的交互完成特定的网络应用

#### 计算机网络的专用术语
1. 实体
    * 实体
        * 任何 可发送 或 接收信息的 硬件 或 软件进程
    * 对等实体
        * 收发双方相同层次中的实体
2. 协议
    * 控制两个 对等实体进行 逻辑通信的 规则 的集合
    * 三要素
        * 语法  — 定义所交换信息的格式
        * 语义  — 定义收发双方所要完成的操作
        * 同步  — 定义收发双方的时序关系
3. 服务
    * 在协议的控制下

